<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MixDiffPools Spreadsheet</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="Mixdiffpools.css">
</head>
<body class="bg-gray-100 font-sans">

  <header class="bg-black bg-opacity-90 text-white shadow-md py-4 fixed top-0 left-0 w-full z-10">
    <div class="container mx-auto flex justify-between items-center px-6">
      <div class="logo">
        <img src="Pictures/Wur.png" alt="Logo" onerror="this.style.display='none'" class="h-12">
      </div>
      <nav class="space-x-6">
        <a href="Mixdiffpools.html" class="text-white hover:text-green-500 px-4 py-2 rounded-md transition">Mixdiffpools</a>
        <a href="NLP.html" class="text-white hover:text-green-500 px-4 py-2 rounded-md transition">NLP</a>
        <a href="Database.html" class="text-white hover:text-green-500 px-4 py-2 rounded-md transition">Database</a>
        <a href="Admin.html" class="text-white hover:text-green-500 px-4 py-2 rounded-md transition">Admin</a>
        <a href="Calculations.html" class="text-white hover:text-green-500 px-4 py-2 rounded-md transition">Calculations</a>
      </nav>
    </div>
  </header>

  <main class="container mx-auto py-6 px-6 mt-24">
    <div class="bg-white p-6 rounded-lg shadow-md">
      <div class="flex items-center mb-6">
        <label for="runSelect" class="font-semibold mr-4">Select Run:</label>
        <select id="runSelect" class="p-2 text-sm border rounded-md w-1/3">
          <option value="new">New Run</option>
          <!-- Existing runs will be populated dynamically -->
        </select>
        <input type="text" id="newRunNameInput" placeholder="Enter new run name" class="ml-4 p-2 text-sm border rounded-md w-1/3">
      </div>

      <div class="overflow-x-auto">
        <table id="spreadsheetTable" class="min-w-full table-auto border-collapse">
          <thead class="bg-green-500 text-white">
            <tr>
              <th class="py-2 px-4 text-left">ProjectPool</th>
              <th class="py-2 px-4 text-left">Application</th>
              <th class="py-2 px-4 text-left">GenomeSize</th>
              <th class="py-2 px-4 text-left">Coverage</th>
              <th class="py-2 px-4 text-left">SampleCount</th>
              <th class="py-2 px-4 text-left">Conc</th>
              <th class="py-2 px-4 text-left">AvgLibSize</th>
              <th class="py-2 px-4 text-left">Clusters</th>
              <th class="py-2 px-4 text-left">%P1</th>
              <th class="py-2 px-4 text-left">nM</th>
              <th class="py-2 px-4 text-left">%Sample per (Flowcell)</th>
              <th class="py-2 px-4 text-left">UI NGS Pool</th>
              <th class="py-2 px-4 text-left">Acties</th>
            </tr>
          </thead>
          <tbody>
            <!-- Rows will be added dynamically -->
          </tbody>
        </table>
      </div>

      <div class="mt-6 flex space-x-4">
        <button id="addRowButton" class="bg-green-500 text-white py-2 px-6 rounded-md hover:bg-green-700">Voeg rij toe</button>
        <button id="calculateUINGSPoolButton" class="bg-blue-500 text-white py-2 px-6 rounded-md hover:bg-blue-700">Bereken NGS UI Pool</button>
      </div>
    </div>

    <div class="loader mt-4" style="display: none;"></div>
    <div class="error-message mt-4 text-red-500 font-semibold" id="error-messages" style="display: none;">Error Message</div>

    <div class="flowcell-info mt-8 bg-green-500 text-white p-6 rounded-md">
      <div class="flowcell-details flex space-x-6 mb-6">
        <span id="flowcellOutput" class="font-medium">Current Flowcell: P1</span>
        <span id="trisOutput" class="font-medium">ul Tris aan pool toevoegen: 0.00</span>
      </div>
      <div class="progress-container mt-6">
        <div class="relative w-full bg-gray-300 rounded-full h-4">
          <div class="progress-bar bg-green-700 h-4 rounded-full" id="flowcellProgress"></div>
          <span id="progressPercentage" class="absolute inset-0 flex justify-center items-center text-white">0%</span>
        </div>
        <div id="progressLegend" class="progress-legend mt-6"></div>
      </div>
    </div>
  </main>

  <script src="mixdiffpools.js"></script>
</body>
</html>
